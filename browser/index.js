(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.operator = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},_loop=_dereq_("loop.js"),_loop2=_interopRequireDefault(_loop),_delegate=_dereq_("delegate"),_delegate2=_interopRequireDefault(_delegate),_nanoajax=_dereq_("nanoajax"),_nanoajax2=_interopRequireDefault(_nanoajax),_navigo=_dereq_("navigo"),_navigo2=_interopRequireDefault(_navigo),_dom=_dereq_("./lib/dom.js"),_dom2=_interopRequireDefault(_dom),_util=_dereq_("./lib/util.js"),router=new _navigo2.default(_util.origin),state={_state:{route:"",title:"",prev:{route:"/",title:""}},get route(){return this._state.route},set route(t){this._state.prev.route=this.route,this._state.route=t,(0,_util.setActiveLinks)(t)},get title(){return this._state.title},set title(t){this._state.prev.title=this.title,this._state.title=t,document.title=t}};exports.default=function(){function t(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments[2],n=(0,_util.sanitize)(t);if(r?null:(0,_util.saveScrollPosition)(),s.emit("before:route",{route:n}),!state.paused){i(_util.origin+"/"+n,function(t){r?router.resolve(n):router.navigate(n),o(n,t),s.emit("after:route",{route:n,title:t}),e?e(n,t):null})}}function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:state.route,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;router.navigate(t),state.route=t,e?state.title=e:null}function i(t,e){return _nanoajax2.default.ajax({method:"GET",url:t},function(t,i,o){return o.status<200||o.status>300&&304!==o.status?window.location=_util.origin+"/"+state._state.prev.route:void c(o.response,e)})}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;state.route=t,e?state.title=e:null}function r(t,e){return l.filter(function(i){if(Array.isArray(i)){var o=i[1](e);return o&&s.emit(i[0],{route:e,event:t}),o}return i(e)}).length>0}var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.root||document.body,u=n.duration||0,l=n.ignore||[],s=(0,_loop2.default)(),c=(0,_dom2.default)(a,u,s),_=Object.create(_extends({},s,{stop:function(){state.paused=!0},start:function(){state.paused=!1},go:t,push:e}),{getState:{value:function(){return state._state}}});return state.route=""+window.location.pathname+window.location.search,state.title=document.title,(0,_delegate2.default)(document,"a","click",function(e){if(!(e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)){var i=e.delegateTarget,o=i.getAttribute("href")||"/",n=(0,_util.sanitize)(o);!_util.link.isSameOrigin(o)||"external"===i.getAttribute("rel")||i.classList.contains("no-ajax")||r(e,n)||_util.link.isHash(o)||(e.preventDefault(),_util.link.isSameURL(o)||t(_util.origin+"/"+n))}}),window.onpopstate=function(e){var i=e.target.location.href;if(r(e,i)){if(_util.link.isHash(i))return;return void window.location.reload()}t(i,null,!0)},"scrollRestoration"in history&&(history.scrollRestoration="manual",history.state&&void 0!==history.state.scrollTop&&window.scrollTo(0,history.state.scrollTop),window.onbeforeunload=_util.saveScrollPosition),_};
},{"./lib/dom.js":2,"./lib/util.js":3,"delegate":5,"loop.js":6,"nanoajax":7,"navigo":8}],2:[function(_dereq_,module,exports){
"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}Object.defineProperty(exports,"__esModule",{value:!0});var _tarry=_dereq_("tarry.js"),_util=_dereq_("./util"),parser=new DOMParser,parseResponse=function(e){return parser.parseFromString(e,"text/html")},evalScripts=function evalScripts(source){var root=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,errors=[],scripts=Array.prototype.slice.call(source.getElementsByTagName("script")),existing=root?Array.prototype.slice.call(root.getElementsByTagName("script")):[],dupe=function(e){return existing.filter(function(r){return e.innerHTML===r.innerHTML&&e.src===r.src}).length>0};scripts.length>0&&scripts.forEach(function(t){var s=t.cloneNode(!0);if(!dupe(s)){s.setAttribute("data-ajaxed","true");try{eval(s.innerHTML)}catch(e){errors.push(e)}try{root?root.insertBefore(s,root.children[0]):source.replaceChild(s,t)}catch(e){errors.push(e),document.head.insertBefore(s,document.head.children[0])}}}),errors.length>0&&(console.groupCollapsed("operator.js"),errors.forEach(function(e){return console.log(e)}),console.groupEnd())},returnSize=function(e,r){var t=!(null===e||!e.window);return t?Math.max(e["outer"+r],document.documentElement["client"+r]):Math.max(e["offset"+r],e["client"+r])};exports.default=function(e,r,t){return function(n,o){var a=parseResponse(n),s=a.head.getElementsByTagName("title")[0].innerHTML,i=document.querySelector(e),c=[].concat(_toConsumableArray(document.head.querySelectorAll("meta"))),u=[].concat(_toConsumableArray(a.head.querySelectorAll("meta"))),l=(0,_tarry.tarry)(function(){t.emit("before:transition"),document.documentElement.classList.add("is-transitioning"),i.style.height=returnSize(i,"Height")+"px"},r),d=(0,_tarry.tarry)(function(){i.innerHTML=a.querySelector(e).innerHTML,c.forEach(function(e){return document.head.removeChild(e)}),u.forEach(function(e){return document.head.appendChild(e)}),o(s,i),evalScripts(i),evalScripts(a.head,document.head),(0,_util.restoreScrollPos)()},r),m=(0,_tarry.tarry)(function(){document.documentElement.classList.remove("is-transitioning"),i.style.height=""},r),h=(0,_tarry.tarry)(function(){return t.emit("after:transition")},r);(0,_tarry.queue)(l,d,m,h)()}};
},{"./util":3,"tarry.js":9}],3:[function(_dereq_,module,exports){
"use strict";function _toConsumableArray(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}return Array.from(r)}Object.defineProperty(exports,"__esModule",{value:!0});var getOrigin=function(r){return r.origin||r.protocol+"//"+r.host},origin=exports.origin=getOrigin(window.location),originRegEx=exports.originRegEx=new RegExp(origin),sanitize=exports.sanitize=function(r){var e=r.replace(originRegEx,""),t=e.match(/^\//)?e.replace(/\/{1}/,""):e;return""===t?"/":t},parseURL=exports.parseURL=function(r){var e=document.createElement("a");return e.href=r,e},link=exports.link={isSameOrigin:function(r){return origin===getOrigin(parseURL(r))},isHash:function(r){return/#/.test(r)},isSameURL:function(r){return window.location.search===parseURL(r).search&&window.location.pathname===parseURL(r).pathname}},getScrollPosition=exports.getScrollPosition=function(){return window.pageYOffset||window.scrollY},saveScrollPosition=exports.saveScrollPosition=function(){return window.history.replaceState({scrollTop:getScrollPosition()},"")},restoreScrollPos=exports.restoreScrollPos=function(){var r=history.state?history.state.scrollTop:void 0;return history.state&&void 0!==r?(window.scrollTo(0,r),r):void window.scrollTo(0,0)},activeLinks=[],setActiveLinks=exports.setActiveLinks=function(r){activeLinks.forEach(function(r){return r.classList.remove("is-active")}),activeLinks.splice(0,activeLinks.length),activeLinks.push.apply(activeLinks,_toConsumableArray(Array.prototype.slice.call(document.querySelectorAll('[href$="'+r+'"]')))),activeLinks.forEach(function(r){return r.classList.add("is-active")})};
},{}],4:[function(_dereq_,module,exports){
function closest(e,t){for(;e&&e.nodeType!==DOCUMENT_NODE_TYPE;){if(e.matches(t))return e;e=e.parentNode}}var DOCUMENT_NODE_TYPE=9;if(Element&&!Element.prototype.matches){var proto=Element.prototype;proto.matches=proto.matchesSelector||proto.mozMatchesSelector||proto.msMatchesSelector||proto.oMatchesSelector||proto.webkitMatchesSelector}module.exports=closest;
},{}],5:[function(_dereq_,module,exports){
function delegate(e,t,r,n,l){var s=listener.apply(this,arguments);return e.addEventListener(r,s,l),{destroy:function(){e.removeEventListener(r,s,l)}}}function listener(e,t,r,n){return function(r){r.delegateTarget=closest(r.target,t),r.delegateTarget&&n.call(e,r)}}var closest=_dereq_("./closest");module.exports=delegate;
},{"./closest":4}],6:[function(_dereq_,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};exports.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={},n=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n&&(t[e]=t[e]||{queue:[]},t[e].queue.push(n))},r=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=!!t[e]&&t[e].queue;r&&r.forEach(function(e){return e(n)})};return _extends({},e,{emit:r,on:n})};
},{}],7:[function(_dereq_,module,exports){
(function (global){
function getRequest(e){return e&&global.XDomainRequest&&!/MSIE 1/.test(navigator.userAgent)?new XDomainRequest:global.XMLHttpRequest?new XMLHttpRequest:void 0}function setDefault(e,t,o){e[t]=e[t]||o}var reqfields=["responseType","withCredentials","timeout","onprogress"];exports.ajax=function(e,t){function o(e,o){return function(){a||(t(void 0===u.status?e:u.status,0===u.status?"Error":u.response||u.responseText||o,u),a=!0)}}var r=e.headers||{},n=e.body,s=e.method||(n?"POST":"GET"),a=!1,u=getRequest(e.cors);u.open(s,e.url,!0);var l=u.onload=o(200);u.onreadystatechange=function(){4===u.readyState&&l()},u.onerror=o(null,"Error"),u.ontimeout=o(null,"Timeout"),u.onabort=o(null,"Abort"),n&&(setDefault(r,"X-Requested-With","XMLHttpRequest"),global.FormData&&n instanceof global.FormData||setDefault(r,"Content-Type","application/x-www-form-urlencoded"));for(var i,d=0,f=reqfields.length;d<f;d++)i=reqfields[d],void 0!==e[i]&&(u[i]=e[i]);for(var i in r)u.setRequestHeader(i,r[i]);return u.send(n),u};
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],8:[function(_dereq_,module,exports){
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Navigo",[],e):"object"==typeof exports?exports.Navigo=e():t.Navigo=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t){return t instanceof RegExp?t:t.replace(/\/+$/,"").replace(/^\/+/,"/")}function r(t,e){return 0===e.length?null:t?t.slice(1,t.length).reduce(function(t,n,o){return null===t&&(t={}),t[e[o]]=n,t},null):null}function i(t){var e,n=[];return e=t instanceof RegExp?t:new RegExp(o(t).replace(_,function(t,e,o){return n.push(o),y}).replace(v,g)+m),{regexp:e,paramNames:n}}function u(t){return t.replace(/\/$/,"").split("/").length}function s(t,e){return u(t)<u(e)}function a(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];return e.map(function(e){var n=i(e.route),o=n.regexp,u=n.paramNames,s=t.match(o),a=r(s,u);return!!s&&{match:s,route:e,params:a}}).filter(function(t){return t})}function l(t,e){return a(t,e)[0]||!1}function c(t,e){var n=a(t,e.filter(function(t){var e=o(t.route);return""!==e&&"*"!==e})),r=o(t);return n.length>0?n.map(function(e){return o(t.substr(0,e.match.index))}).reduce(function(t,e){return e.length<t.length?e:t},r):r}function f(){return!("undefined"==typeof window||!window.history||!window.history.pushState)}function d(t){return t.replace(/\?(.*)?$/,"")}function h(t,e){this._routes=[],this.root=e&&t?t.replace(/\/$/,"/#"):t||null,this._useHash=e,this._paused=!1,this._destroyed=!1,this._lastRouteResolved=null,this._notFoundHandler=null,this._defaultHandler=null,this._ok=!e&&f(),this._listen(),this.updatePageLinks()}var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};Object.defineProperty(e,"__esModule",{value:!0});var _=/([:*])(\w+)/g,v=/\*/g,y="([^/]+)",g="(?:.*)",m="(?:/$|$)";h.prototype={helpers:{match:l,root:c,clean:o},navigate:function(t,e){var n;return t=t||"",this._ok?(n=(e?"":this._getRoot()+"/")+o(t),n=n.replace(/([^:])(\/{2,})/g,"$1/"),history[this._paused?"replaceState":"pushState"]({},"",n),this.resolve()):"undefined"!=typeof window&&(window.location.href=window.location.href.replace(/#(.*)$/,"")+"#"+t),this},on:function(){for(var t=this,e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];if(n.length>=2)this._add(n[0],n[1]);else if("object"===p(n[0])){var r=Object.keys(n[0]).sort(s);r.forEach(function(e){t._add(e,n[0][e])})}else"function"==typeof n[0]&&(this._defaultHandler=n[0]);return this},notFound:function(t){this._notFoundHandler=t},resolve:function(t){var e,o,r=(t||this._cLoc()).replace(this._getRoot(),"");return!this._paused&&r!==this._lastRouteResolved&&(this._useHash&&(r=r.replace(/^\/#/,"/")),r=d(r),(o=l(r,this._routes))?(this._lastRouteResolved=r,e=o.route.handler,o.route.route instanceof RegExp?e.apply(void 0,n(o.match.slice(1,o.match.length))):e(o.params),o):!this._defaultHandler||""!==r&&"/"!==r?(this._notFoundHandler&&this._notFoundHandler(),!1):(this._lastRouteResolved=r,this._defaultHandler(),!0))},destroy:function(){this._routes=[],this._destroyed=!0,clearTimeout(this._listenningInterval),"undefined"!=typeof window?window.onpopstate=null:null},updatePageLinks:function(){var t=this;"undefined"!=typeof document&&this._findLinks().forEach(function(e){e.hasListenerAttached||(e.addEventListener("click",function(n){var r=e.getAttribute("href");t._destroyed||(n.preventDefault(),t.navigate(o(r)))}),e.hasListenerAttached=!0)})},generate:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return this._routes.reduce(function(n,o){var r;if(o.name===t){n=o.route;for(r in e)n=n.replace(":"+r,e[r])}return n},"")},link:function(t){return this._getRoot()+t},pause:function(t){this._paused=t},disableIfAPINotAvailable:function(){f()||this.destroy()},_add:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return"object"===("undefined"==typeof e?"undefined":p(e))?this._routes.push({route:t,handler:e.uses,name:e.as}):this._routes.push({route:t,handler:e}),this._add},_getRoot:function(){return null!==this.root?this.root:(this.root=c(this._cLoc(),this._routes),this.root)},_listen:function(){var t=this;this._ok?window.onpopstate=function(){t.resolve()}:!function(){var e=t._cLoc(),n=void 0,o=void 0;(o=function(){n=t._cLoc(),e!==n&&(e=n,t.resolve()),t._listenningInterval=setTimeout(o,200)})()}()},_cLoc:function(){return"undefined"!=typeof window?window.location.href:""},_findLinks:function(){return[].slice.call(document.querySelectorAll("[data-navigo]"))}},e.default=h,t.exports=e.default}])});
},{}],9:[function(_dereq_,module,exports){
"use strict";function _toConsumableArray(r){if(Array.isArray(r)){for(var e=0,n=Array(r.length);e<r.length;e++)n[e]=r[e];return n}return Array.from(r)}Object.defineProperty(exports,"__esModule",{value:!0});var run=function(r,e){r(),e.length>0&&e.shift().apply(void 0,_toConsumableArray(e))},tarry=exports.tarry=function r(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(){for(var t=arguments.length,u=Array(t),o=0;o<t;o++)u[o]=arguments[o];var a="number"==typeof u[0]?u[0]:null;return"number"==typeof a&&a>-1?r(e,a):"number"==typeof n&&n>-1?setTimeout(function(){return run(e,u)},n):run(e,u)}},queue=exports.queue=function(){for(var r=arguments.length,e=Array(r),n=0;n<r;n++)e[n]=arguments[n];return function(){return e.shift().apply(void 0,e)}};
},{}]},{},[1])(1)
});